<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Exe Home Page{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="/js/jquery-2.1.4.min.js"></script>
    <script src="/js/bootstrap-3.3.5.min.js"></script>
    <script src="/js/bootstrap-hover-dropdown.min.js"></script>
    <script src="/js/calendar.js"></script>
    <script src="/js/validate_join_form.js"></script>
    <script type="text/javascript">
        /* <![CDATA[ */

        var dateObject = new Date();
        var month = dateObject.getMonth();
        var monthArray = new Array("January","February","March","April","May","June","July","August","September","October","November","December");

        function getTodayDate() {
            var dateToday = monthArray[month] + " " + dateObject.getDate() + ", " + dateObject.getFullYear();
            document.forms[0].reservationDate.value= dateToday;
        }

        function displayCalendar(whichMonth) {
            alert("I am in displayCalendar");

            var calendarWin = window.open("", "CalWindow", "status=no,resizable=yes,width=400,height=220,left=200,top=200");
            calendarWin.focus();
            calendarWin.document.write("<!DOCTYPE html PUBLIC '-\/\/W3C\/\/DTD XHTML 1.0 Strict\/\/EN' ");
            calendarWin.document.write("'http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-strict.dtd'>");
            calendarWin.document.write("<html xmlns='http:\/\/www.w3.org\/1999\/xhtml'>");
            calendarWin.document.write("<head><title>Coast City Windsurfing<\/title>");
            calendarWin.document.write("<meta http-equiv='content-type' content='text\/html;charset=iso-8859-1' \/>");
            calendarWin.document.write("<link rel='stylesheet' href='../style.css' type='text\/css' \/><\/head><body>");
            calendarWin.document.write("<table cellspacing='0' border='1' width='100%'>");
            // This ends step 3 on page 326 -- the closing brace goes at the end of the function

            // This is step 4 on page 326
            calendarWin.document.write("<colgroup span='7' width='50' \/>");

            if (whichMonth == -1)
                dateObject.setMonth(dateObject.getMonth() - 1);
            else if (whichMonth == 1)
                dateObject.setMonth(dateObject.getMonth() + 1);

            var month = dateObject.getMonth();
            calendarWin.document.write("<tr><td colspan='2'> <a href= ' ' "
                    + " onclick = 'self.opener.displayCalendar(-1); return false'>Previous</a></td>"
                    + " <td colspan = '3' align = 'center'><strong>"
                    + monthArray[month] + " " + dateObject.getFullYear()
                    + "</strong></td><td colspan = '2' align='right'>"
                    + "<a href='' onclick='self.opener.displayCalendar(1); return false'>"
                    + "Next</a></td></tr>");

            calendarWin.document.write("<tr align='center'><td>Sun<\/td><td>Mon<\/td><td>Tue<\/td><td>Wed<\/td><td>Thu<\/td><td>Fri<\/td><td>Sat<\/td><\/tr>");
            calendarWin.document.write("<tr align='center'>");
            // This ends step 4 on page 326

            // This is step 5 on page 327
            dateObject.setDate(1);
            var dayOfWeek = dateObject.getDay();
            for (var i=0; i<dayOfWeek; ++i) {
                calendarWin.document.write("<td>&nbsp;<\/td>");
            }
            // This ends step 5 on page 327

            // This is step 6 on page 327
            var daysWithDates = 7 - dayOfWeek;
            var dateCounter = 1;
            for (var j=0; j<daysWithDates; ++j) {
                var curDate = monthArray[month] + " " + dateCounter + ", " + dateObject.getFullYear();
                calendarWin.document.write("<td><a href='' onclick='self.opener.document.forms[0].reservationDate.value=\"" + curDate + "\";self.close()'>" + dateCounter + "<\/a><\/td>");
                ++dateCounter;
            }
            // This ends step 6 on page 327


            // This is step 7 on page 328
            var numDays = 0;
            // January, March, May, July, August, October, December
            if (month == 0 || month == 2 || month == 4 || month == 6 || month == 7 || month == 9 || month == 11)
                numDays = 31;
            // February
            if (month == 1)
                numDays = 28;
            // April, June, September, November
            else if (month == 3 || month == 5 || month == 8 || month == 10)
                numDays = 30;
            // This ends step 7 on page 328

            //This is step 8 on page 328
            for (var rowCounter = 0; rowCounter < 5; ++rowCounter) {
                var weekDayCounter = 0;
                calendarWin.document.write("<tr align='center'>");
                // This ends step 8 on page 328  -- the last line and closing brace are now below step 9.

                // This is step 9 on pages 328 - 329.  After the href looks like a double quote on the monitor, but it is 2 single quotes.
                while (weekDayCounter < 7) {
                    curDate = monthArray[month] + " " + dateCounter + ", " + dateObject.getFullYear();
                    if (dateCounter <= numDays)
                        calendarWin.document.write("<td><a href='' onclick='self.opener.document.forms[0].reservationDate.value=\"" + curDate + "\";self.close()'>" + dateCounter + "<\/a><\/td>");
                    else
                        calendarWin.document.write("<td>&nbsp;<\/td>");
                    ++weekDayCounter;
                    ++dateCounter;
                }
                // This ends step 9 on pages 328 - 329

                // The next 2 lines of code was given in step 8 but is to be moved below the code in step 9
                calendarWin.document.write("<\/tr>");
            }

            // This is step 10 on page 329
            calendarWin.document.write("<\/table><\/body><\/html>");
            calendarWin.document.close();
            // This ends step 10 on page 329

            // This closes the function which was originally given in step 3 on page 326

        }
        /* ]]> */
    </script>
    <link rel="stylesheet" href="/css/bootstrap-3.3.5.min.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    {# Templates can add their own stylesheets and scripts, if they wish. #}
    {% block head %}{% endblock %}
</head>
<body onload="getTodayDate()">
    <!-- Login popup from Bootsnipp (http://bootsnipp.com/snippets/featured/clean-modal-login-form) -->
    <div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
    	  <div class="modal-dialog">
				<div class="loginmodal-container">
					<h1>Login to Your Account</h1><br>
				  <form action="/login" method=post>
					<input type="text" id="lm-user" name="email" placeholder="Email">
					<input type="password" id="lm-password" name="password" placeholder="Password">
					<input type="submit" name="login" class="login loginmodal-submit" value="Login">
				  </form>
					
				  <div class="login-help">
					<a href="#">Forgot Password?</a>
				  </div>
				</div>
			</div>
		  </div>
    <div class="container">
        <div class="row">
            <nav class="navbar navbar-default maroon" >
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" style="color:cornflowerblue" href="index.html">Texas State Exe</a>
                </div> <!-- class="navbar-header" -->
                <div class="collapse navbar-collapse" id="navbar">
                    <ul class="nav navbar-nav">
                        <li><a href="/index.html">Home</a></li>
                        <li><a href="/officers.html">Officers</a></li>

                        <li class="dropdown">
                            <a href="/projects.html" class="dropdown toggle" data-hover="dropdown" aria-haspopup="true" aria-expanded="false">Projects
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" data-parent="#sub-nav" aria-labelledby="dropdownMenu2">
                                <li><a href="/Projects/AppDev.html">Android</a></li>
                                <li><a href="/Projects/WebDev.html">Web</a></li>
                                <li><a href="/Projects/Gamedev.html">Game</a></li>
                                <li><a href="/Projects/Coding.html">Program</a></li>
                            </ul>
                        </li>

                        <li><a href="/events.html">Events</a></li>

                        <li class="dropdown">
                            <a href="/career.html"  class="dropdown toggle" data-hover="dropdown" aria-haspopup="true" aria-expanded="false">Career
                                <span class="caret"></span></a>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                                <li><a href="career.html">Career Planning</a></li>
                                <li><a href="#">Resume</a></li>
                                <li><a href="#">Phone Interview</a></li>
                            </ul>
                        </li>

                        <li><a href="/forums.html">Forums</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right" style="margin-right:5px">
                        <li><a href="mailto:exe.txstate@edu.com"><span class="glyphicon glyphicon-envelope"></span> Contact Us</a></li>
                        {% if session.fname %}
                        <li><a href="/profile/{{ session.fname }} {{ session.lname }}">
                            <img src="https://secure.gravatar.com/avatar/{{ session.emailHash }}?s=25&r=g&d=mm" class="img-circle">
                            {{ session.fname }} {{ session.lname }}</a></li>
                        <li><a href="/logout"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                        {% else %}
                        <li><a href="/join.html"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                        <li><a href="#" data-toggle="modal" data-target="#login-modal"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                        {% endif %}
                    </ul>
                </div><!-- lass="collapse navbar-collapse" id="navbar" -->
            </nav>
        </div>
            {# You can override the default body style, if you wish. #}
            {% if !override %}
                <div class="container content">
            {% endif %}
            {% block content %}
                <p>This is a paragraph</p>
            {% endblock %}
            {% if !override %}
                </div>
            {% endif %}
    </div>
    <footer id="footer">
        <div class="container">
            <div class="row">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://www.facebook.com/groups/TxstateEXE/"><img src ="/images/facebook_icon.png" class="img-responsive" alt="Facebook"></a></li>
                </ul>
                <!-- external javascript_examples for validation -->
                <script type="text/javascript" src="js/validation.js"></script>
            </div> <!-- class="row" -->
        </div> <!-- class="container" -->
    </footer>
</body>
</html>